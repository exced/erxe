{"ast":null,"code":"import { getAuthorizationUrl } from '@octokit/oauth-app';\nexport default (async (req, res) => {\n  const url = await getAuthorizationUrl({\n    clientId: process.env.CLIENT_ID,\n    state: req.query.state,\n    scopes: typeof req.query.scopes === 'string' ? req.query.scopes.split(',') : [],\n    allowSignup: req.query.allowSignup === 'true' ? true : false,\n    redirectUrl: req.query.redirectUrl\n  });\n  res.writeHead(302, {\n    location: url\n  });\n  return res.end();\n});","map":{"version":3,"sources":["/Users/barrast/Desktop/Projects/erxe/app/pages/api/github/oauth/login.ts"],"names":["getAuthorizationUrl","req","res","url","clientId","process","env","CLIENT_ID","state","query","scopes","split","allowSignup","redirectUrl","writeHead","location","end"],"mappings":"AACA,SAASA,mBAAT,QAAoC,oBAApC;AAEA,gBAAe,OAAOC,GAAP,EAAwBC,GAAxB,KAA6C;AAC1D,QAAMC,GAAG,GAAG,MAAMH,mBAAmB,CAAC;AACpCI,IAAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADc;AAEpCC,IAAAA,KAAK,EAAEP,GAAG,CAACQ,KAAJ,CAAUD,KAFmB;AAGpCE,IAAAA,MAAM,EACJ,OAAOT,GAAG,CAACQ,KAAJ,CAAUC,MAAjB,KAA4B,QAA5B,GAAuCT,GAAG,CAACQ,KAAJ,CAAUC,MAAV,CAAiBC,KAAjB,CAAuB,GAAvB,CAAvC,GAAqE,EAJnC;AAKpCC,IAAAA,WAAW,EAAEX,GAAG,CAACQ,KAAJ,CAAUG,WAAV,KAA0B,MAA1B,GAAmC,IAAnC,GAA0C,KALnB;AAMpCC,IAAAA,WAAW,EAAEZ,GAAG,CAACQ,KAAJ,CAAUI;AANa,GAAD,CAArC;AASAX,EAAAA,GAAG,CAACY,SAAJ,CAAc,GAAd,EAAmB;AAAEC,IAAAA,QAAQ,EAAEZ;AAAZ,GAAnB;AACA,SAAOD,GAAG,CAACc,GAAJ,EAAP;AACD,CAZD","sourcesContent":["import { NowRequest, NowResponse } from '@now/node';\nimport { getAuthorizationUrl } from '@octokit/oauth-app';\n\nexport default async (req: NowRequest, res: NowResponse) => {\n  const url = await getAuthorizationUrl({\n    clientId: process.env.CLIENT_ID,\n    state: req.query.state as string,\n    scopes:\n      typeof req.query.scopes === 'string' ? req.query.scopes.split(',') : [],\n    allowSignup: req.query.allowSignup === 'true' ? true : false,\n    redirectUrl: req.query.redirectUrl as string,\n  });\n\n  res.writeHead(302, { location: url });\n  return res.end();\n};\n"]},"metadata":{},"sourceType":"module"}